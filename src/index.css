@tailwind base;
@tailwind components;
@tailwind utilities;

@import './styles/zone3-theme.css';

/* ===========================================================================
   D-DIN Font Family (SIL Open Font License)
   =========================================================================== */
@font-face {
  font-family: 'D-DIN';
  src: url('https://cdn.jsdelivr.net/gh/nickonometry/din-fonts@master/D-DIN.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'D-DIN';
  src: url('https://cdn.jsdelivr.net/gh/nickonometry/din-fonts@master/D-DIN-Bold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* =============================================================================
   SYSTEM OF A TOWN — CI/UI DESIGN SYSTEM
   Version: 1.0.0
   Theme: Dark Enterprise Dashboard
   ============================================================================= */

@layer base {
  /* =========================================================================
     LIGHT MODE (Optional fallback - Dark is default)
     ========================================================================= */
  :root {
    /* Core Backgrounds */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    /* Primary Colors */
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    /* Borders & Inputs */
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    /* Radius System */
    --radius: 0.75rem;
    --radius-sm: 0.5rem;
    --radius-lg: 1rem;

    /* Sidebar */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;

    /* Status Colors */
    --status-success: 142 71% 45%;
    --status-warn: 38 92% 50%;
    --status-error: 0 84% 60%;
    --status-info: 199 89% 48%;

    /* Surface Layers */
    --surface: 0 0% 98%;
    --surface-2: 0 0% 96%;
    --border-subtle: 214 32% 91%;
    --border-glow: 217 91% 60%;

    /* Text Hierarchy */
    --text-primary: 222 84% 5%;
    --text-secondary: 215 16% 47%;
    --text-dimmed: 215 10% 65%;

    /* Accent (CI Primary - konfigurierbar) */
    --accent-primary: 217 91% 60%;
    --accent-primary-hover: 217 91% 70%;
  }

  /* =========================================================================
     DARK MODE (Dark UI beibehalten; Pergament nur als Seiten-Hintergrund via bg-surface)
     ========================================================================= */
  .dark {
    /* Core Backgrounds - Dark enterprise UI */
    --background: 222 47% 6%;
    --foreground: 210 40% 98%;

    --card: 222 30% 10%;
    --card-foreground: 210 40% 98%;

    --popover: 222 35% 9%;
    --popover-foreground: 210 40% 98%;

    /* Primary Colors */
    --primary: 217 91% 60%;
    --primary-foreground: 222 47% 6%;

    --secondary: 222 30% 14%;
    --secondary-foreground: 210 40% 98%;

    --muted: 222 25% 16%;
    --muted-foreground: 215 20% 65%;

    --accent: 222 30% 14%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62% 50%;
    --destructive-foreground: 210 40% 98%;

    /* Borders & Inputs */
    --border: 222 20% 18%;
    --input: 222 25% 16%;
    --ring: 217 91% 60%;

    /* Sidebar - Dark (Menu bleibt dunkel) */
    --sidebar-background: 222 47% 5%;
    --sidebar-foreground: 210 30% 85%;
    --sidebar-primary: 217 91% 60%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 222 30% 12%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 222 20% 15%;
    --sidebar-ring: 217 91% 60%;

    /* Status Colors */
    --status-success: 142 71% 45%;
    --status-warn: 38 92% 50%;
    --status-error: 0 84% 60%;
    --status-info: 199 89% 48%;

    /* Surface Layers - Dark enterprise (original) */
    --surface: 222 30% 10%;
    --surface-2: 222 35% 8%;
    --border-subtle: 222 20% 18%;
    --border-glow: 217 50% 35%;

    /* Text Hierarchy */
    --text-primary: 210 40% 98%;
    --text-secondary: 215 20% 65%;
    --text-dimmed: 215 15% 45%;

    /* Accent (CI Primary - konfigurierbar) */
    --accent-primary: 217 91% 60%;
    --accent-primary-hover: 217 91% 70%;
  }
}

/* ===========================================================================
   SPACING SYSTEM (8px base)
   =========================================================================== */
:root {
  --spacing-xs: 0.25rem;   /* 4px */
  --spacing-sm: 0.5rem;    /* 8px */
  --spacing-md: 1rem;      /* 16px */
  --spacing-lg: 1.5rem;    /* 24px */
  --spacing-xl: 2rem;      /* 32px */
  --spacing-2xl: 3rem;     /* 48px */
}

/* ===========================================================================
   SHADOW SYSTEM (Subtle layer separation)
   =========================================================================== */
:root {
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-card: 0 2px 8px -2px rgb(0 0 0 / 0.3);
  --shadow-elevated: 0 4px 16px -4px rgb(0 0 0 / 0.4);
  --shadow-glow: 0 0 20px -5px hsl(var(--accent-primary) / 0.3);
}

.dark {
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.2);
  --shadow-card: 0 2px 8px -2px rgb(0 0 0 / 0.5);
  --shadow-elevated: 0 8px 24px -8px rgb(0 0 0 / 0.6);
  --shadow-glow: 0 0 24px -6px hsl(var(--accent-primary) / 0.4);
}

/* ===========================================================================
   LAYOUT VARIABLES
   =========================================================================== */
:root {
  --sidebar-width: 260px;
  --sidebar-collapsed-width: 56px;
  --chat-panel-width: 280px;
  --header-height: 56px;
}

/* ===========================================================================
   ORBITAL ATMOSPHERIC BACKGROUNDS
   Light Mode: "Atmospheric Sky" — Inspiriert von Revolut
   Dark Mode: "Deep Space" — Inspiriert von SpaceX
   =========================================================================== */
:root {
  --bg-atmosphere: 
    /* Radiales Sonnenlicht von oben — lebendiger Himmel */
    radial-gradient(
      ellipse 120% 80% at 50% -20%,
      hsl(200 70% 88%) 0%,
      hsl(205 55% 92%) 40%,
      hsl(210 35% 96%) 70%,
      hsl(210 25% 98%) 100%
    );
}

.dark {
  --bg-atmosphere: 
    /* Kosmisches Leuchten oben rechts (ferne Galaxie) */
    radial-gradient(
      ellipse 60% 50% at 80% 10%,
      hsl(225 35% 12%) 0%,
      transparent 60%
    ),
    /* Sekundärer Nebel-Effekt unten links */
    radial-gradient(
      ellipse 50% 40% at 20% 90%,
      hsl(260 25% 8%) 0%,
      transparent 50%
    ),
    /* Basis: Tiefes Weltraum-Schwarz mit Gradient */
    linear-gradient(
      180deg,
      hsl(222 50% 5%) 0%,
      hsl(222 55% 4%) 50%,
      hsl(222 60% 3%) 100%
    );
}

/* ===========================================================================
   BASE STYLES
   =========================================================================== */
@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'D-DIN', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    background: var(--bg-atmosphere);
    min-height: 100vh;
  }

  /* Smooth theme transitions */
  *, *::before, *::after {
    transition: background-color 0.2s ease, border-color 0.2s ease, color 0.15s ease;
  }

  /* Exclude animated elements from theme transitions */
  .no-theme-transition,
  .no-theme-transition * {
    transition: none !important;
  }

  /* Tabular figures for KPI values */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }
}

/* ===========================================================================
   TYPOGRAPHY HIERARCHY — ORBITAL Design System
   D-DIN font family with strict hierarchy
   =========================================================================== */
@layer utilities {
  /* H1: App/Page headlines */
  .text-h1 {
    @apply text-2xl font-bold uppercase tracking-wide;
    line-height: 2rem;
  }

  /* H2: Section headlines */
  .text-h2 {
    @apply text-xl font-bold uppercase;
    letter-spacing: 0.02em;
    line-height: 1.75rem;
  }

  /* H3: Subsection headlines */
  .text-h3 {
    @apply text-base font-semibold;
    line-height: 1.5rem;
  }

  /* Body text */
  .text-body {
    @apply text-sm font-normal;
    line-height: 1.375rem;
  }

  /* Small / Labels */
  .text-small {
    @apply text-xs font-normal;
    line-height: 1.125rem;
  }

  /* Micro / Badges */
  .text-micro {
    @apply text-[10px] font-medium uppercase;
    letter-spacing: 0.05em;
    line-height: 0.875rem;
  }

  /* KPI Values */
  .text-kpi {
    @apply text-[1.75rem] font-bold tabular-nums;
    line-height: 2rem;
  }

  .text-kpi-lg {
    @apply text-[2rem] font-bold tabular-nums;
    line-height: 2.25rem;
  }
}

/* ===========================================================================
   UTILITY CLASSES
   =========================================================================== */
@layer utilities {
  /* Text hierarchy utilities */
  .text-hierarchy-primary {
    @apply text-foreground;
  }
  
  .text-hierarchy-secondary {
    color: hsl(var(--text-secondary));
  }
  
  .text-hierarchy-dimmed {
    color: hsl(var(--text-dimmed));
  }

  /* Surface utilities */
  .bg-surface {
    background-color: hsl(var(--surface));
  }
  
  .bg-surface-2 {
    background-color: hsl(var(--surface-2));
  }

  /* Status utilities */
  .text-status-success {
    color: hsl(var(--status-success));
  }
  
  .text-status-warn {
    color: hsl(var(--status-warn));
  }
  
  .text-status-error {
    color: hsl(var(--status-error));
  }
  
  .text-status-info {
    color: hsl(var(--status-info));
  }

  .bg-status-success {
    background-color: hsl(var(--status-success));
  }
  
  .bg-status-warn {
    background-color: hsl(var(--status-warn));
  }
  
  .bg-status-error {
    background-color: hsl(var(--status-error));
  }
  
  .bg-status-info {
    background-color: hsl(var(--status-info));
  }

  /* Border glow effect */
  .border-glow {
    border-color: hsl(var(--border-glow));
  }

  /* Card shadows */
  .shadow-card {
    box-shadow: var(--shadow-card);
  }
  
  .shadow-elevated {
    box-shadow: var(--shadow-elevated);
  }
  
  .shadow-glow {
    box-shadow: var(--shadow-glow);
  }

  /* Safe area for mobile bottom nav */
  .safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Uppercase Headlines mit leichtem Letter-Spacing */
  .text-headline {
    @apply uppercase tracking-wide;
  }

  /* Atmospheric Background Utility */
  .bg-atmosphere {
    background: var(--bg-atmosphere);
  }
}
