@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================================================
   SYSTEM OF A TOWN â€” CI/UI DESIGN SYSTEM
   Version: 1.0.0
   Theme: Dark Enterprise Dashboard
   ============================================================================= */

@layer base {
  /* =========================================================================
     LIGHT MODE (Optional fallback - Dark is default)
     ========================================================================= */
  :root {
    /* Core Backgrounds */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    /* Primary Colors */
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    /* Borders & Inputs */
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    /* Radius System */
    --radius: 0.75rem;
    --radius-sm: 0.5rem;
    --radius-lg: 1rem;

    /* Sidebar */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;

    /* Status Colors */
    --status-success: 142 71% 45%;
    --status-warn: 38 92% 50%;
    --status-error: 0 84% 60%;
    --status-info: 199 89% 48%;

    /* Surface Layers */
    --surface: 0 0% 98%;
    --surface-2: 0 0% 96%;
    --border-subtle: 214 32% 91%;
    --border-glow: 217 91% 60%;

    /* Text Hierarchy */
    --text-primary: 222 84% 5%;
    --text-secondary: 215 16% 47%;
    --text-dimmed: 215 10% 65%;

    /* Accent (CI Primary - konfigurierbar) */
    --accent-primary: 217 91% 60%;
    --accent-primary-hover: 217 91% 70%;
  }

  /* =========================================================================
     DARK MODE (Default Theme)
     ========================================================================= */
  .dark {
    /* Core Backgrounds - Near-black enterprise aesthetic */
    --background: 222 47% 6%;
    --foreground: 210 40% 98%;

    --card: 222 30% 10%;
    --card-foreground: 210 40% 98%;

    --popover: 222 35% 9%;
    --popover-foreground: 210 40% 98%;

    /* Primary Colors */
    --primary: 217 91% 60%;
    --primary-foreground: 222 47% 6%;

    --secondary: 222 30% 14%;
    --secondary-foreground: 210 40% 98%;

    --muted: 222 25% 16%;
    --muted-foreground: 215 20% 65%;

    --accent: 222 30% 14%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62% 50%;
    --destructive-foreground: 210 40% 98%;

    /* Borders & Inputs */
    --border: 222 20% 18%;
    --input: 222 25% 16%;
    --ring: 217 91% 60%;

    /* Sidebar - Slightly darker than main content */
    --sidebar-background: 222 47% 5%;
    --sidebar-foreground: 210 30% 85%;
    --sidebar-primary: 217 91% 60%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 222 30% 12%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 222 20% 15%;
    --sidebar-ring: 217 91% 60%;

    /* Status Colors */
    --status-success: 142 71% 45%;
    --status-warn: 38 92% 50%;
    --status-error: 0 84% 60%;
    --status-info: 199 89% 48%;

    /* Surface Layers - Subtle elevation system */
    --surface: 222 30% 10%;
    --surface-2: 222 35% 8%;
    --border-subtle: 222 20% 18%;
    --border-glow: 217 50% 35%;

    /* Text Hierarchy */
    --text-primary: 210 40% 98%;
    --text-secondary: 215 20% 65%;
    --text-dimmed: 215 15% 45%;

    /* Accent (CI Primary - konfigurierbar) */
    --accent-primary: 217 91% 60%;
    --accent-primary-hover: 217 91% 70%;
  }
}

/* ===========================================================================
   SPACING SYSTEM (8px base)
   =========================================================================== */
:root {
  --spacing-xs: 0.25rem;   /* 4px */
  --spacing-sm: 0.5rem;    /* 8px */
  --spacing-md: 1rem;      /* 16px */
  --spacing-lg: 1.5rem;    /* 24px */
  --spacing-xl: 2rem;      /* 32px */
  --spacing-2xl: 3rem;     /* 48px */
}

/* ===========================================================================
   SHADOW SYSTEM (Subtle layer separation)
   =========================================================================== */
:root {
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-card: 0 2px 8px -2px rgb(0 0 0 / 0.3);
  --shadow-elevated: 0 4px 16px -4px rgb(0 0 0 / 0.4);
  --shadow-glow: 0 0 20px -5px hsl(var(--accent-primary) / 0.3);
}

.dark {
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.2);
  --shadow-card: 0 2px 8px -2px rgb(0 0 0 / 0.5);
  --shadow-elevated: 0 8px 24px -8px rgb(0 0 0 / 0.6);
  --shadow-glow: 0 0 24px -6px hsl(var(--accent-primary) / 0.4);
}

/* ===========================================================================
   LAYOUT VARIABLES
   =========================================================================== */
:root {
  --sidebar-width: 260px;
  --sidebar-collapsed-width: 56px;
  --chat-panel-width: 380px;
  --header-height: 56px;
}

/* ===========================================================================
   BASE STYLES
   =========================================================================== */
@layer base {
  * {
    @apply border-border;
  }

  html {
    @apply dark;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  }

  /* Tabular figures for KPI values */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }
}

/* ===========================================================================
   UTILITY CLASSES
   =========================================================================== */
@layer utilities {
  /* Text hierarchy utilities */
  .text-hierarchy-primary {
    @apply text-foreground;
  }
  
  .text-hierarchy-secondary {
    color: hsl(var(--text-secondary));
  }
  
  .text-hierarchy-dimmed {
    color: hsl(var(--text-dimmed));
  }

  /* Surface utilities */
  .bg-surface {
    background-color: hsl(var(--surface));
  }
  
  .bg-surface-2 {
    background-color: hsl(var(--surface-2));
  }

  /* Status utilities */
  .text-status-success {
    color: hsl(var(--status-success));
  }
  
  .text-status-warn {
    color: hsl(var(--status-warn));
  }
  
  .text-status-error {
    color: hsl(var(--status-error));
  }
  
  .text-status-info {
    color: hsl(var(--status-info));
  }

  .bg-status-success {
    background-color: hsl(var(--status-success));
  }
  
  .bg-status-warn {
    background-color: hsl(var(--status-warn));
  }
  
  .bg-status-error {
    background-color: hsl(var(--status-error));
  }
  
  .bg-status-info {
    background-color: hsl(var(--status-info));
  }

  /* Border glow effect */
  .border-glow {
    border-color: hsl(var(--border-glow));
  }

  /* Card shadows */
  .shadow-card {
    box-shadow: var(--shadow-card);
  }
  
  .shadow-elevated {
    box-shadow: var(--shadow-elevated);
  }
  
  .shadow-glow {
    box-shadow: var(--shadow-glow);
  }

  /* Safe area for mobile bottom nav */
  .safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}
