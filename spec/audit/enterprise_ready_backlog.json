[
  {
    "id": "ERA-001",
    "severity": "P3",
    "phase": "0",
    "dimension": "routing",
    "zone": "Z1",
    "module": "Admin/FutureRoom",
    "title": "Dead FinanceDesk entry in adminDeskMap",
    "description": "FinanceDesk is registered in adminDeskMap but the route is redirected to FutureRoom via legacy redirect. Dead code entry.",
    "repo_refs": ["src/router/ManifestRouter.tsx:271"],
    "fix_plan": { "steps": ["Remove finance-desk entry from adminDeskMap", "Remove FinanceDesk lazy import"], "risk": "low" },
    "verification": "App loads, /admin/finance-desk redirects to /admin/futureroom",
    "status": "fixed"
  },
  {
    "id": "ERA-002",
    "severity": "P1",
    "phase": "4",
    "dimension": "spec",
    "zone": "Z2",
    "module": "MOD-05",
    "title": "Spec file mod-05_website-builder.md describes MSV, not Pets",
    "description": "mod-05_website-builder.md contains MSV Downstream Contract spec. MOD-05 is now 'Pets' module. File must be renamed and rewritten.",
    "repo_refs": ["spec/current/02_modules/mod-05_pets.md"],
    "fix_plan": { "steps": ["Delete old file", "Create mod-05_pets.md with current Pets module spec"], "risk": "low" },
    "verification": "File exists with correct Pets content, no MSV references",
    "status": "fixed"
  },
  {
    "id": "ERA-003",
    "severity": "P2",
    "phase": "4",
    "dimension": "spec",
    "zone": "Z2",
    "module": "MOD-10",
    "title": "Spec file mod-10_abrechnung.md naming mismatch",
    "description": "MOD-10 spec says 'Abrechnung' but manifest display name aligns with Lead Manager / Provisionen context. Route remains /portal/leads for legacy compat.",
    "repo_refs": ["spec/current/02_modules/mod-10_abrechnung.md"],
    "fix_plan": { "steps": ["Update spec to clarify naming: display 'Abrechnung', route '/portal/leads'"], "risk": "low" },
    "verification": "Spec file reflects current naming convention",
    "status": "fixed"
  },
  {
    "id": "ERA-004",
    "severity": "P2",
    "phase": "6",
    "dimension": "data",
    "zone": "Cross",
    "module": "System",
    "title": "rate_limit_counters has RLS enabled but no policies",
    "description": "Added service_role_only policy. System-internal table, no business isolation risk.",
    "repo_refs": ["DB: public.rate_limit_counters"],
    "fix_plan": { "steps": ["Add service-role-only policy"], "risk": "low" },
    "verification": "supabase--linter shows no RLS-no-policy findings",
    "status": "fixed"
  },
  {
    "id": "ERA-005",
    "severity": "P2",
    "phase": "3",
    "dimension": "engine",
    "zone": "Z2",
    "module": "MOD-08",
    "title": "MOD-08 dynamic routes without goldenPath Guard in manifest",
    "description": "MOD-08 handles routing internally in InvestmentsPage.tsx, not via ManifestRouter guards. No bypass vector exists since state is data-driven. Documented as accepted pattern.",
    "repo_refs": ["src/manifests/routesManifest.ts"],
    "fix_plan": { "steps": ["Add comment in routesManifest documenting internal routing pattern"], "risk": "low" },
    "verification": "Comment present in manifest",
    "status": "accepted"
  },
  {
    "id": "ERA-006",
    "severity": "P2",
    "phase": "4",
    "dimension": "spec",
    "zone": "Cross",
    "module": "Armstrong",
    "title": "03_actions README lacks explicit SSOT delegation note",
    "description": "README in spec/current/03_actions/ references armstrongManifest.ts but should explicitly state SSOT delegation and list action categories.",
    "repo_refs": ["spec/current/03_actions/README.md"],
    "fix_plan": { "steps": ["Expand README with SSOT delegation details"], "risk": "low" },
    "verification": "README contains explicit delegation statement",
    "status": "fixed"
  },
  {
    "id": "ERA-007",
    "severity": "P2",
    "phase": "4",
    "dimension": "spec",
    "zone": "Cross",
    "module": "GoldenPath",
    "title": "04_workflows README sparse, needs engine delegation note",
    "description": "Workflows directory only has README + WF-MEET-01. SSOT is in engine/manifests. README should explicitly declare this.",
    "repo_refs": ["spec/current/04_workflows/README.md"],
    "fix_plan": { "steps": ["Update README to declare full SSOT delegation to GoldenPathEngine"], "risk": "low" },
    "verification": "README contains explicit delegation + registry reference",
    "status": "fixed"
  },
  {
    "id": "SIA4-004",
    "severity": "P3",
    "phase": "8",
    "dimension": "code",
    "zone": "Z2",
    "module": "NK-Engine",
    "title": "NK-Engine hardcoded Personenzahlen",
    "description": "Improved to use dynamic totalPersons estimate (2 Ã— units_count) and totalUnits from property. unitPersons remains default 2 until leases table gets number_of_occupants column.",
    "repo_refs": ["src/engines/nkAbrechnung/engine.ts:169-171"],
    "fix_plan": { "steps": ["Use property.units_count for totalUnits/totalPersons", "Document default for unitPersons"], "risk": "low" },
    "verification": "NK calculation uses property-based values",
    "status": "fixed"
  },
  {
    "id": "SIA4-006",
    "severity": "P3",
    "phase": "8",
    "dimension": "code",
    "zone": "Z2",
    "module": "DemoData",
    "title": "demoDataManifest GP-VERWALTUNG toggleKey naming",
    "description": "File demoDataManifest.ts no longer exists (renamed to demoDataRegistry.ts). No GP-VERWALTUNG toggleKey found.",
    "repo_refs": [],
    "fix_plan": { "steps": ["No action needed"], "risk": "low" },
    "verification": "File does not exist",
    "status": "resolved"
  },
  {
    "id": "SIA4-007",
    "severity": "P3",
    "phase": "8",
    "dimension": "code",
    "zone": "Z2",
    "module": "MOD-04",
    "title": "useMSVData Hook naming mismatch",
    "description": "Renamed useMSVData.ts to useVerwaltungData.ts. All interfaces renamed from MSV* to Verwaltung*. All imports updated.",
    "repo_refs": ["src/hooks/useVerwaltungData.ts"],
    "fix_plan": { "steps": ["Rename hook file and exports", "Update all imports"], "risk": "low" },
    "verification": "No references to useMSVData remain in src/**/*.ts(x)",
    "status": "fixed"
  },
  {
    "id": "SIA4-008",
    "severity": "P3",
    "phase": "8",
    "dimension": "code",
    "zone": "Z2",
    "module": "NK-Engine",
    "title": "bwaKontenplan legacy comment",
    "description": "File bwaKontenplan.ts no longer exists in the codebase. Already removed.",
    "repo_refs": [],
    "fix_plan": { "steps": ["No action needed"], "risk": "low" },
    "verification": "File does not exist",
    "status": "resolved"
  },
  {
    "id": "SIA4-009",
    "severity": "P3",
    "phase": "8",
    "dimension": "code",
    "zone": "Z2",
    "module": "MOD-07",
    "title": "useFinanceRequest TODO case_events",
    "description": "Replaced console.log TODO with actual supabase insert into case_events table. Reads tenant_id from finance_request before inserting.",
    "repo_refs": ["src/hooks/useFinanceRequest.ts:279-297"],
    "fix_plan": { "steps": ["Insert case_event on status change"], "risk": "low" },
    "verification": "Status changes create case_events rows",
    "status": "fixed"
  },
  {
    "id": "SIA4-010",
    "severity": "P3",
    "phase": "8",
    "dimension": "code",
    "zone": "Z2",
    "module": "Armstrong",
    "title": "Armstrong webResearchEnabled hardcoded",
    "description": "Documented as intentional default. No org_settings column exists yet. Comment updated to explain when to add the toggle.",
    "repo_refs": ["src/hooks/useArmstrongContext.ts:213"],
    "fix_plan": { "steps": ["Improve comment documentation"], "risk": "low" },
    "verification": "Comment explains default and future path",
    "status": "fixed"
  },
  {
    "id": "SIA4-011",
    "severity": "P3",
    "phase": "8",
    "dimension": "code",
    "zone": "Z2",
    "module": "NK-Engine",
    "title": "NK-Engine supabase as any type cast",
    "description": "Added JSDoc header comment explaining why casts are necessary (nk_periods/nk_cost_items not in auto-generated types). Safe pattern documented.",
    "repo_refs": ["src/hooks/useNKAbrechnung.ts:1-9"],
    "fix_plan": { "steps": ["Add explanatory comment at file top"], "risk": "low" },
    "verification": "Comment present explaining type cast reason",
    "status": "fixed"
  },
  {
    "id": "SIA4-012",
    "severity": "P3",
    "phase": "8",
    "dimension": "code",
    "zone": "Z2",
    "module": "MOD-04",
    "title": "Verwaltung label remnants",
    "description": "Updated ImmobilienPage.tsx JSDoc to remove stale MSV/Verwaltung reference. Now reads 'SSOT for Properties, Units, Leases'.",
    "repo_refs": ["src/pages/portal/ImmobilienPage.tsx:2"],
    "fix_plan": { "steps": ["Update JSDoc comment"], "risk": "low" },
    "verification": "No stale MSV labels in ImmobilienPage header",
    "status": "fixed"
  }
]
