{
  "schema": "OPDESK-V1.1",
  "created": "2026-02-15",
  "updated": "2026-02-15",
  "title": "Operative Desk — Architektur-Audit & Refactoring-Backlog",

  "desk_inventory": [
    {
      "id": "OPDESK-001",
      "desk": "Lead Desk",
      "file": "src/pages/admin/desks/LeadDesk.tsx",
      "route": "/admin/lead-desk",
      "mod_ref": "MOD-10",
      "pattern": "OperativeDeskShell + interne Tabs",
      "maturity": "FUNKTIONAL",
      "shell_migrated": true
    },
    {
      "id": "OPDESK-002",
      "desk": "Sales Desk",
      "file": "src/pages/admin/desks/SalesDesk.tsx",
      "route": "/admin/sales-desk",
      "mod_ref": "MOD-09",
      "pattern": "OperativeDeskShell + Sub-Routes",
      "maturity": "FUNKTIONAL",
      "shell_migrated": true
    },
    {
      "id": "OPDESK-003",
      "desk": "Acquiary",
      "file": "src/pages/admin/desks/Acquiary.tsx",
      "route": "/admin/acquiary",
      "mod_ref": "MOD-12",
      "pattern": "OperativeDeskShell + 6-Tab Lazy-Load",
      "maturity": "FORTGESCHRITTEN",
      "shell_migrated": true
    },
    {
      "id": "OPDESK-004",
      "desk": "FutureRoom",
      "file": "src/pages/admin/futureroom/FutureRoomLayout.tsx",
      "route": "/admin/futureroom",
      "mod_ref": "MOD-11",
      "pattern": "Layout-Shell + 8 Sub-Pages",
      "maturity": "FORTGESCHRITTEN",
      "shell_migrated": false,
      "note": "Eigene Layout-Shell — Migration optional (Phase 2)"
    },
    {
      "id": "OPDESK-005",
      "desk": "Projekt Desk",
      "file": "src/pages/admin/desks/ProjektDesk.tsx",
      "route": "/admin/projekt-desk",
      "mod_ref": "MOD-13",
      "pattern": "OperativeDeskShell + 4-Tab Lazy-Load",
      "maturity": "FUNKTIONAL",
      "shell_migrated": true
    },
    {
      "id": "OPDESK-006",
      "desk": "Petmanager Desk",
      "file": "src/pages/admin/desks/PetmanagerDesk.tsx",
      "route": "/admin/petmanager",
      "mod_ref": "MOD-05",
      "pattern": "OperativeDeskShell (Platzhalter)",
      "maturity": "STUB",
      "shell_migrated": true
    },
    {
      "id": "OPDESK-007",
      "desk": "Website Hosting",
      "file": "src/pages/admin/website-hosting/WebHostingDashboard.tsx",
      "route": "/admin/website-hosting",
      "mod_ref": "—",
      "pattern": "PageShell + 2-Tab (Hosting-Verträge, Projekt-Websites)",
      "maturity": "FUNKTIONAL",
      "shell_migrated": false,
      "note": "Nutzt PageShell statt OperativeDeskShell — Migration Phase 2"
    },
    {
      "id": "OPDESK-008",
      "desk": "Finance Desk",
      "file": "src/pages/admin/desks/FinanceDesk.tsx",
      "route": "/admin/finance-desk",
      "mod_ref": "MOD-18",
      "pattern": "OperativeDeskShell (Beratungs-Lead-Management)",
      "maturity": "FUNKTIONAL",
      "shell_migrated": true,
      "note": "Private Finanzberatung — Lead-Zuweisung an Manager-Accounts"
    }
  ],

  "completed_tasks": [
    "✅ OperativeDeskShell.tsx erstellt (src/components/admin/desks/OperativeDeskShell.tsx)",
    "✅ operativeDeskDesignManifest.ts erstellt (DESK_DESIGN_TOKENS + ZONE_FLOW_REGISTRY)",
    "✅ ProjektDesk auf OperativeDeskShell migriert (4 Tabs, Live-Daten)",
    "✅ PetmanagerDesk auf OperativeDeskShell migriert (Platzhalter)",
    "✅ Agents Desk gelöscht (src/pages/admin/desks/Agents.tsx + Route + Sidebar)",
    "✅ ZoneFlowIndicator.tsx erstellt",
    "✅ LeadDesk auf OperativeDeskShell migriert",
    "✅ SalesDesk auf OperativeDeskShell migriert",
    "✅ Acquiary auf OperativeDeskShell migriert",
    "✅ Backlog bereinigt (Agents entfernt, Website Hosting hinzugefügt)",
    "✅ LeadDesk in Sub-Pages aufgeteilt (LeadPool, LeadAssignments, LeadCommissions)",
    "✅ SalesDesk in Sub-Pages aufgeteilt (ImmobilienVertriebsauftraegeCard, VeroeffentlichungenTab, SalesDeskSubPages)",
    "✅ SalesDesk Stubs implementiert (Inbox mit Query-Skeleton, Partner mit Org-Liste, Audit mit Log-Skeleton)"
  ],

  "refactoring_plan": {
    "phase_1": {
      "title": "DeskShell + Design-Token-Migration",
      "priority": "HIGH",
      "status": "DONE"
    },
    "phase_2": {
      "title": "Monolith-Aufteilung",
      "priority": "MEDIUM",
      "status": "DONE",
      "tasks": [
        "✅ LeadDesk → src/pages/admin/lead-desk/ (3 Sub-Pages)",
        "✅ SalesDesk → src/pages/admin/sales-desk/ (4 Sub-Pages)"
      ]
    },
    "phase_3": {
      "title": "Stub-Implementierung",
      "priority": "MEDIUM",
      "status": "DONE",
      "tasks": [
        "✅ SalesDesk Sub-Pages implementiert (Inbox, Partner, Audit)",
        "Landing-Page-Governance im ProjektDesk erweitern (optional)"
      ]
    },
    "phase_4": {
      "title": "Cleanup & Polish",
      "priority": "LOW",
      "status": "DONE",
      "tasks": [
        "✅ Finance Desk als Beratungs-Desk (MOD-18) reaktiviert — OperativeDeskShell + Lead-Flow",
        "✅ Legacy-Redirect /admin/finance-desk entfernt, Route wiederhergestellt",
        "FutureRoom → Optional auf OperativeDeskShell migrieren",
        "Website Hosting → Optional auf OperativeDeskShell migrieren"
      ]
    }
  },

  "zone_flow_registry": {
    "description": "Z3 (Surface) ↔ Z1 (Governance) ↔ Z2 (Manager) — KEIN direkter Z2↔Z3 Kontakt",
    "flows": [
      { "id": "FLOW-LEAD", "z3": "Kaufy/SoT Website", "z1": "Lead Desk", "z2": "MOD-10 Leadmanager / MOD-09 Vertriebspartner" },
      { "id": "FLOW-LISTING", "z3": "Kaufy Marketplace", "z1": "Sales Desk", "z2": "MOD-09 Vertriebsmanager / MOD-04/06 Eigentümer" },
      { "id": "FLOW-PROJEKT", "z3": "Projekt Landing Pages", "z1": "Projekt Desk", "z2": "MOD-13 Projektmanager / MOD-04 Eigentümer" },
      { "id": "FLOW-FINANCE", "z3": "FutureRoom Website", "z1": "FutureRoom", "z2": "MOD-11 Finanzierungsmanager / Antragsteller" },
      { "id": "FLOW-AKQUISE", "z3": "Acquiary Website", "z1": "Acquiary", "z2": "MOD-12 Akquisemanager / Mandant" },
      { "id": "FLOW-WEBSITE", "z3": "Tenant Websites", "z1": "Website Hosting", "z2": "Tenant (Website-Owner)" },
      { "id": "FLOW-PET", "z3": "—", "z1": "Petmanager Desk", "z2": "MOD-05 Pets" }
    ]
  }
}
