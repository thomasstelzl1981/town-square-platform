
## Service-Kalender Umbau: Individuelle 30-Minuten-Slot-Zeilen pro Mitarbeiter

### Skizze der neuen Seite

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Services - Terminkalender und Dienstleistungen          [ðŸ‘¤ Mitarbeiter] [+]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â—€  01. Mar â€“ 30. Mai 2026  â–¶  [Heute]                                        â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€ ...      â”‚
â”‚  â”‚ Mitarbeiter    â”‚ Mo 01.03 â”‚ Di 02.03 â”‚ Mi 03.03 â”‚ Do 04.03 â”‚                â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€ ...      â”‚
â”‚  â”‚ â–¼ Anna Meier   â”‚          â”‚          â”‚          â”‚ URLAUB   â”‚                â”‚
â”‚  â”‚   08:00        â”‚          â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚          â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚                â”‚
â”‚  â”‚   08:30        â”‚          â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚          â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚                â”‚
â”‚  â”‚   09:00        â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚          â”‚          â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚                â”‚
â”‚  â”‚   09:30        â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚          â”‚          â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚                â”‚
â”‚  â”‚   10:00        â”‚          â”‚          â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚                â”‚
â”‚  â”‚   10:30        â”‚          â”‚          â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚                â”‚
â”‚  â”‚   ...          â”‚          â”‚          â”‚          â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚                â”‚
â”‚  â”‚   16:00        â”‚          â”‚          â”‚          â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚                â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚
â”‚  â”‚ â–¼ Tom Schmidt  â”‚          â”‚          â”‚  Frei    â”‚          â”‚                â”‚
â”‚  â”‚   09:00        â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚          â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚          â”‚                â”‚
â”‚  â”‚   09:30        â”‚          â”‚          â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚          â”‚                â”‚
â”‚  â”‚   10:00        â”‚          â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚                â”‚
â”‚  â”‚   ...          â”‚          â”‚          â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚          â”‚                â”‚
â”‚  â”‚   13:00        â”‚          â”‚          â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚          â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                                 â”‚
â”‚  Legende: â–ˆâ–ˆâ–ˆâ–ˆ = gebucht   â–‘â–‘â–‘â–‘ = frei/Urlaub (ausgegraut)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Erklaerung:** Jeder Mitarbeiter wird als Gruppe dargestellt. Die erste Zeile zeigt den Namen (klappbar), darunter folgen die individuellen 30-Minuten-Slots basierend auf seinen Arbeitszeiten. Anna arbeitet z.B. 08:00-16:30 = 17 Zeilen. Tom arbeitet 09:00-13:30 = 9 Zeilen. An freien Tagen und Urlaubstagen ist die gesamte Spalte grau.

Gebuchte Slots zeigen einen farbigen Balken mit Hundename/Service. Klick auf leeren Slot oeffnet den Buchungs-Dialog vorausgefuellt mit Mitarbeiter, Datum und Uhrzeit.

### Implementierungsplan

**Datei: `src/pages/portal/petmanager/PMServices.tsx`** (kompletter Umbau der Tabelle)

1. **Zeilen-Struktur aendern**: Statt einer Zeile pro Mitarbeiter wird jeder Mitarbeiter zu einer Gruppe mit:
   - Header-Zeile: Mitarbeitername (sticky left, klappbar via State)
   - Sub-Zeilen: Eine Zeile pro 30-Min-Slot (z.B. 08:00, 08:30, 09:00...)
   - Slot-Zeilen werden aus `work_hours` des Mitarbeiters berechnet via `generateSlots()`

2. **Zellen-Logik pro Slot-Zeile + Tag**:
   - Arbeitstag mit Work-Hours: Slot ist verfuegbar (weiss/klickbar) oder gebucht (farbig)
   - Freier Tag (kein work_hours-Eintrag): Zelle grau mit "Frei"
   - Urlaubstag: Zelle grau mit "Urlaub"
   - Gebuchte Zelle: Farbiger Hintergrund + Hundename/Service-Text

3. **Zeilenhoehe anpassen**: `CELL_HEIGHT` von 80px auf **28px** (kompakte Slot-Zeilen)

4. **Buchungs-Dialog**: Beim Klick auf leere Zelle wird der Dialog mit Mitarbeiter, Datum und Uhrzeit vorausgefuellt geoeffnet. Bestehende Buchung -> Dialog zeigt vorhandene Daten.

5. **Kollabierbar**: Jeder Mitarbeiter-Block kann ein-/ausgeklappt werden, damit die Tabelle bei vielen Mitarbeitern uebersichtlich bleibt.

Keine Datenbank-Aenderungen noetig -- die bestehenden Hooks und Tabellen reichen aus.
